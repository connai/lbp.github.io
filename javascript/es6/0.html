<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>generator 异步运用</title>
	<script src="/js/jq.min.js" type="text/javascript"></script>
</head>
<body>
	<div id="load" style="display: none">加载中...</div>
	<div id="ajax"></div>
	<script type="text/javascript">
		var $load = $("#load");
		var $ajax = $("#ajax");
		function getText(){
			//setTimeout(function(){
				$.get("data.json",function(data){
					it.next(data)
				})
			//},3000)
		};
		function* loadUI() {
		  $load.show();
		  var data = yield getText();
		  $ajax.html(data.text);
		  $load.hide();
		}
		var it = loadUI();
		it.next();
	</script>
</body>
</html>