<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cruise</title>
  <link rel="stylesheet" type="text/css" href="assets/fonts/fonts.css">
  <link rel="stylesheet" type="text/css" href="assets/style.css">
  <link rel="stylesheet" type="text/css" href="assets/demo.css">
</head>
<body>
  <div class="page">
    <div class="header">
      <div class="container">
        <button class="btn-menu hidden-lg hidden-md" onclick="toggleMenu()"><span class="icon-navicon"></span></button>
        <h1 class="logo">cruise</h1>
        <div class="user-pane">
          <div class="avatar"></div>
          <span class="btn-down icon-angle-down"></span>
          <div class="user-pane-modal">
            <a href=""><span class="icon-id-card"></span>Profile</a>
            <a href=""><span class="icon-sign-in"></span>Sign Out</a>
          </div>
        </div>
      </div>
    </div>
    <div class="main">
      <div class="container row">
        <div class="aside col-md-2 hidden-sm hidden-xs">
          <span class="btn-close icon-close hidden-lg hidden-md" onclick="toggleMenu()"></span>
          <ul class="menu">
            <li>
              <span class="icon-dashboard"></span>DASHBOARD
            </li>
            <li>
              <span class="icon-sitemap"></span>AGENT
            </li>
            <li>
              <span class="icon-boat"></span>MY CRUISE
            </li>
            <li>
              <span class="icon-life-bouy"></span>HELP
            </li>
          </ul>
          <div class="history">
            <div class="title">History</div>
            <ul>
              <li>test0002/aaasdd/bbbbb</li>
              <li>test0003/aaasdd/bbbbb</li>
              <li>test0004/aaasdd/bbbbb</li>
              <li>test0005/aaasdd/bbbbb</li>
              <li>test0006/aaasdd/bbbbb</li>
              <li>test0002/aaasdd/bbbbb</li>
              <li>test0003/aaasdd/bbbbb</li>
              <li>test0004/aaasdd/bbbbb</li>
              <li>test0005/aaasdd/bbbbb</li>
              <li>test0006/aaasdd/bbbbb</li>
            </ul>
          </div>
        </div>
        <div class="content col-xs-12 col-md-10">
          <div class="row com1">
            <div class="col-sm-4 col-xs-6">
              <div class="block bg1">
                <div class="sm">Building</div>
                <div class="lg">3</div>
              </div>
            </div>
            <div class="col-sm-4 col-xs-6">
              <div class="block bg2">
                <div class="sm">Idle</div>
                <div class="lg">5</div>
              </div>
            </div>
            <div class="col-sm-4 col-xs-12">
              <div class="row block bg3">
                <div class="col-lg-4 col-sm-12 col-xs-4">
                  <div class="row">
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="sm">ALL</div></div>
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="lg">8</div></div>
                  </div>
                </div>
                <div class="col-lg-4 col-sm-12 col-xs-4">
                  <div class="row">
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="sm">PHYSICAL</div></div>
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="lg">4</div></div>
                  </div>
                </div>
                <div class="col-lg-4 col-sm-12 col-xs-4">
                  <div class="row">
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="sm">VIRTUAL</div></div>
                    <div class="col-lg-12 col-sm-6 col-xs-12"><div class="lg">4</div></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4 col-xs-12 tab-navs">
              <div class="col-xs-4 active">All</div>
              <div class="col-xs-4">Physical</div>
              <div class="col-xs-4">Virtual</div>
            </div>
            <div class="col-sm-8 col-xs-12 search-com">
              <div class="col-md-6 col-xs-12">
                <span class="icon-search"></span>
                <input type="text">
              </div>
              <div class="col-md-6 hidden-sm hidden-xs text-right">
                <span class="icon-th-card"></span>
                <span class="icon-th-list"></span>
              </div>
            </div>
          </div>
          <div class="record-list">
            <div class="row record">
              <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
                <img src="assets/os_icons/windows.png">
              </div>
              <div class="col-lg-10 col-xs-12">
                <div class="col-sm-6 col-xs-12">
                  <span class="icon-desktop"></span>
                  <span class="url">test0002.thoughtworks.com</span>
                  <span class="badges building hidden-xs">building</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-info"></span>
                  <span class="address">192.168.0.1</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-folder"></span>
                  <span class="path">/var/lib/cruise-agent</span>
                </div>
                <div class="col-xs-12">
                  <div class="col-sm-9 col-xs-12">
                    <button class="btn btn-plus" onclick="showModalAddClientForm(this)">
                      <span class="icon-plus"></span>
                    </button>
                    <div class="clients">
                      <div class="client">
                        <span class="text">chrome</span>
                        <span class="icon-trash" onclick="deleteClient(this)"></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-xs-12 text-right">
                    <button class="btn btn-deny">
                      <span class="icon-deny"></span>
                      <span class="text">Deny</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row record">
              <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
                <img src="assets/os_icons/ubuntu.png">
              </div>
              <div class="col-lg-10 col-xs-12">
                <div class="col-sm-6 col-xs-12">
                  <span class="icon-desktop"></span>
                  <span class="url">test0002.thoughtworks.com</span>
                  <span class="badges building hidden-xs">building</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-info"></span>
                  <span class="address">192.168.0.1</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-folder"></span>
                  <span class="path">/var/lib/cruise-agent</span>
                </div>
                <div class="col-xs-12">
                  <div class="col-sm-9 col-xs-12">
                    <button class="btn btn-plus" onclick="showModalAddClientForm(this)">
                      <span class="icon-plus"></span>
                    </button>
                    <div class="clients">
                      <div class="client">
                        <span class="text">chrome</span>
                        <span class="icon-trash" onclick="deleteClient(this)"></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-xs-12 text-right">
                    <button class="btn btn-deny">
                      <span class="icon-deny"></span>
                      <span class="text">Deny</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row record">
              <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
                <img src="assets/os_icons/debin.png">
              </div>
              <div class="col-lg-10 col-xs-12">
                <div class="col-sm-6 col-xs-12">
                  <span class="icon-desktop"></span>
                  <span class="url">test0002.thoughtworks.com</span>
                  <span class="badges building hidden-xs">building</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-info"></span>
                  <span class="address">192.168.0.1</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-folder"></span>
                  <span class="path">/var/lib/cruise-agent</span>
                </div>
                <div class="col-xs-12">
                  <div class="col-sm-9 col-xs-12">
                    <button class="btn btn-plus" onclick="showModalAddClientForm(this)">
                      <span class="icon-plus"></span>
                    </button>
                    <div class="clients">
                      <div class="client">
                        <span class="text">chrome</span>
                        <span class="icon-trash" onclick="deleteClient(this)"></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-xs-12 text-right">
                    <button class="btn btn-deny">
                      <span class="icon-deny"></span>
                      <span class="text">Deny</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row record">
              <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
                <img src="assets/os_icons/suse.png">
              </div>
              <div class="col-lg-10 col-xs-12">
                <div class="col-sm-6 col-xs-12">
                  <span class="icon-desktop"></span>
                  <span class="url">test0002.thoughtworks.com</span>
                  <span class="badges building hidden-xs">building</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-info"></span>
                  <span class="address">192.168.0.1</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-folder"></span>
                  <span class="path">/var/lib/cruise-agent</span>
                </div>
                <div class="col-xs-12">
                  <div class="col-sm-9 col-xs-12">
                    <button class="btn btn-plus" onclick="showModalAddClientForm(this)">
                      <span class="icon-plus"></span>
                    </button>
                    <div class="clients">
                      <div class="client">
                        <span class="text">chrome</span>
                        <span class="icon-trash" onclick="deleteClient(this)"></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-xs-12 text-right">
                    <button class="btn btn-deny">
                      <span class="icon-deny"></span>
                      <span class="text">Deny</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row record">
              <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
                <img src="assets/os_icons/cent_os.png">
              </div>
              <div class="col-lg-10 col-xs-12">
                <div class="col-sm-6 col-xs-12">
                  <span class="icon-desktop"></span>
                  <span class="url">test0002.thoughtworks.com</span>
                  <span class="badges idle hidden-xs">idle</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-info"></span>
                  <span class="address">192.168.0.1</span>
                </div>
                <div class="col-sm-3 col-xs-12">
                  <span class="icon-folder"></span>
                  <span class="path">/var/lib/cruise-agent</span>
                </div>
                <div class="col-xs-12">
                  <div class="col-sm-9 col-xs-12">
                    <button class="btn btn-plus" onclick="showModalAddClientForm(this)">
                      <span class="icon-plus"></span>
                    </button>
                    <div class="clients">
                      <div class="client">
                        <span class="text">chrome</span>
                        <span class="icon-trash" onclick="deleteClient(this)"></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-xs-12 text-right">
                    <button class="btn btn-deny">
                      <span class="icon-deny"></span>
                      <span class="text">Deny</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        ©️Copyright 2017 <strong>ThoughtWorks</strong>
      </div>
    </div>
  </div>
  <div class="modal" id="modal_add_client_form">
    <div class="modal-content">
      <form>
        <p class="desc">Separate multiple resource name with commas</p>
        <div class="add-inputs"><input type="text" placeholder="input value"></div>
        <div class="add-btns">
          <button type="button" class="btn btn-submit" onclick="addClient()">Add resources</button>
          <button type="button" class="btn btn-reverse btn-cancel hidden-xs" onclick="showModalAddClientForm()">Cancel</button>
        </div>
      </form>
      <span class="btn-close icon-close" onclick="showModalAddClientForm()"></span>
    </div>
  </div>
  <script type="text/javascript">
    (function (g) {
      var modalAddClientForm = document.querySelector('#modal_add_client_form')
      var domAside = document.querySelector('.aside')
      function getOffset(node) {
        var l = 0, t = 0
        while(node.offsetParent) {
          l += node.offsetParent.offsetLeft
          t += node.offsetParent.offsetTop
          node = node.offsetParent
        }
        return {left: l - 20, top: t + 50}
      }
      var o = {
        toggleMenu: function () {
          domAside.classList.toggle('active')
        },

        showModalAddClientForm: function (dom) {
          if (!dom) return modalAddClientForm.classList.toggle('active')
          modalAddClientForm.querySelector('input').value = ''
          var offset = getOffset(dom)
          modalAddClientForm.style.left = offset.left + 'px'
          modalAddClientForm.style.top = offset.top + 'px'
          modalAddClientForm.classList.toggle('active')
          modalAddClientForm.dom = dom
        },

        addClient: function () {
          var t = function (client) { 
              return `<div class="client">
                    <span class="text">${client}</span>
                    <span class="icon-trash" onclick="deleteClient(this)"></span>
                  </div>`
          }
          var f = document.createDocumentFragment()
          var dom = modalAddClientForm.dom
          modalAddClientForm.querySelector('input').value.split(',').forEach(function (client) {
            var d = document.createElement('div')
            d.innerHTML = t(client)
            f.appendChild(d.firstChild)
          })
          dom.parentNode.querySelector('.clients').appendChild(f)    
          showModalAddClientForm()
        },

        deleteClient: function (dom) {
          dom.onclick = null;
          dom.parentNode.parentNode.removeChild(dom.parentNode)
        }
      }
      Object.assign(g, o)
    })(window)
  </script>
</body>
</html>